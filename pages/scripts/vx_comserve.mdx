# Community Service
A script for admins to send people on community service to do certain tasks.

## Installation
1. Put the `vx_comserve` folder in your `resources` folder.
2. Add `ensure vx_comserve` to your `server.cfg`.
3. Start the script

## Exports

### Server

```lua
function setOfflineComserve(admin: string|number, identifier: string, reason: string, tasks: number);
function setCommunityService(playerId: number, targetId: number, reason: string, tasks: number);

exports["vx_comserve"]:setOfflineComserve(admin, identifier, reason, tasks)
exports["vx_comserve"]:setCommunityService(playerId, targetId, reason, tasks)
```

## Troubleshooting

#### Player not getting tasks when getting comserved
This is most likely because statebag change handlers are not being called. You can fix this by setting `Config.useEvents` to `true` in the configuration.

#### Error: `attempt to index a nil value (field 'vx')`
This is because `vx_lib` is not installed. You can fix this by adding installing [vx_lib](https://github.com/Vertex-Scripts/vx_lib) and adding `ensure vx_lib` to your `server.cfg`.